{"pageProps":{"projectName":"Axon Ivy","currentAdr":{"slug":"20220825-providing-spis","package":null,"title":"Providing SPIs","status":"draft","supersededBy":null,"tags":["spi","api"],"deciders":["als","rwei","rew"],"body":{"enhancedMdx":"\n## Context and Problem Statement\n\nWe are currently reimplement a lot of features and make it possible that things\nare extendable without relasing the Axon Ivy Platform e.g.\n\n- Identity Provider (Microsoft AD, Novell eDirectory, Azure AD)\n- File Storage (Local, S3)\n- Notification (Mail, Teams)\n\nThen we need to define APIs which needs to be implemented (SPI = Service\nProvider Interface). So we have a SPI's for identity providers, file storages\nand notifications.\n\nHow do we organize such code?\n\n## Decision Outcome\n\n- Own bundle for SPI's whenever possible\n- SPI is reflected in the package name\n- Code which is only used by us, do we move in core bundle and package\n\n### Example\n\n- We provide a SPI for file storage with the `file.spi` bundle.\n- We have two implementations `file.local` and `file.s3`.\n- We have code which is only needed by us in `file.core`.\n\nThe Java packages reflecting these namings:\n\n- ch.ivyteam.ivy.file.core\n- ch.ivyteam.ivy.file.spi\n- ch.ivyteam.ivy.file.s3\n- ch.ivyteam.ivy.file.local\n\n![spis](20220825-providing-spis.png)\n\n### Positive Consequences\n\n- Small bundles with with clear responsibility\n- Easier dependency management between bundles\n- Possible way out of the OSGI visibilities\n\n### Negative Consequences\n\n- More bundles\n"},"creationDate":"2022-08-25T18:14:08.000Z","lastEditDate":"2022-08-25T18:14:08.000Z","lastEditAuthor":"Alexander Suter","publicationDate":"2022-08-09T21:59:59.000Z","file":{"relativePath":"adr/20220825-providing-spis.md","absolutePath":"/home/runner/work/adr/adr/adr/20220825-providing-spis.md"},"repository":{"provider":"github","viewUrl":"https://github.com/alexsuter/adr/blob/master/adr/20220825-providing-spis.md"}},"l4bVersion":"1.0.0-beta.13"},"__N_SSG":true}